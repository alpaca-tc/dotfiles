--- Readline.completion_proc= proc
    補完時の動作を決定するProcオブジェクトを指定します。
    procは引数に入力文字列を取り、候補文字列の配列を返すように
    してください。
    入力文字列は単語ごとに区切られます。
    bashの補完と同じく/[ \t\n\"\\'`@$><=;|&{(]/で単語に区切ります。

        require 'readline'

        WORDS = %w(foo foobar foobaz)

        Readline.completion_proc = proc {|word|
            WORDS.grep(/^#{Regexp.quote word}/)
        }

        while buf = Readline.readline("> ")
          p buf
        end

