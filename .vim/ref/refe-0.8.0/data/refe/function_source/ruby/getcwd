util.c:636
char *
ruby_getcwd()
{
    int size = 200;
    char *buf = xmalloc(size);

    while (!getcwd(buf, size)) {
	if (errno != ERANGE) rb_sys_fail(0);
	size *= 2;
	buf = xrealloc(buf, size);
    }
    return buf;
}
