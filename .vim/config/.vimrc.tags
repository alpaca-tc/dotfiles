"-------------------------------------------------------------------------------
" タグ関連 Tags
"-------------------------------------------------------------------------------
"詳しい設定の説明
"http://vim-users.jp/2010/06/hack154/

"set notagbsearch   "２分探索を行わず、線形探索のみ
"set tags=~/.tags
set tags=""

"tagsを階層を遡って適応させる
"** -> 30階層
"**3-> 3階層
let current_dir = expand("%:p:h")

if has('path_extra')
  set tags+=tags;/Applications/XAMPP/xamppfiles/htdocs/project
  " set tags+=/Applications/XAMPP/htdocs/project/eccube/tags
endif

if filereadable(expand('~/tags'))
  au FileType ruby,eruby setl tags+=~/rtags
else
  " let res = system('ctags', '-R --langmap=Ruby:.rb --ruby-typescfFm =~/.rvm/rubies/default -f ~/rtags')
  au FileType ruby,eruby setl tags+=~/rtags
endif

" 開くディレクトリによって、読み込むtagsを切り替える
" if matchstr(current_dir , "/campus/") == "/campus/"
"   set tags=/Applications/XAMPP/xamppfiles/htdocs/project/campus/tags
" endif
" if matchstr(current_dir , "/repo/campus_release/") == "/repo/campus_release/"
"   set tags=/Applications/XAMPP/xamppfiles/htdocs/repo/campus_release/tags
" endif
" if matchstr(current_dir , "/repo/project/oreikkun/") == "/repo/project/oreikkun/"
"   set tags=/Applications/XAMPP/xamppfiles/htdocs/repo/project/oreikkun/Resources/tags
" endif

"tags_jumpを使い易くする
"「飛ぶ」
nnoremap tt  <C-]>
"「進む」
nnoremap tl  :<C-u>tag<CR>
"「戻る」
nnoremap th  :<C-u>pop<CR>
"履歴一覧
" nnoremap tk  :<C-u>tags<CR>

