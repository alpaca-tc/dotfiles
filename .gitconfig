[user]
  email= alpaca-tc@alpaca.tc
  name= alpaca-tc

[core]
  excludesfile = /opt/boxen/config/git/gitignore
  ; autocrlf     = true ; input false
  trailing-space = false
  space-before-tab = false
  ; indent-with-non-tab =
  ; cr-at-eol =
  precomposeunicode = true
  quotepath = false
  editor = vim -c \"set fenc=utf-8\"

[receive]
  denyDeleteCurrent = false

[difftool "sourcetree"]
  cmd = opendiff \"$LOCAL\" \"$REMOTE\"
  path =

[mergetool "sourcetree"]
  cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
  trustExitCode = true

[color]
  ui = true

[alias]
  first = !"fun() { git init; git add -A; git commit -m 'First commit'; }; fun"
  assume = !"fun() { git update-index --assume-unchanged `git ls-files $@ --no-empty-directory`; }; fun"
  no-assume = !"fun() { git update-index --no-assume-unchanged `git ls-files $@ --no-empty-directory`; }; fun"
  assume-list = !"git ls-files -v | grep -e "^[a-z]""

  send-request = !"branch_name=`git rev-parse --abbrev-ref HEAD`; git push origin ${branch_name}; hub pull-request -b master -h Lang-8:${branch_name}"

  add-unmerged = "!f() { git ls-files --unmerged | cut -f2 | sort -u ; }; git add `f`"
  edit-unmerged = "!f() { git ls-files --unmerged | cut -f2 | sort -u ; }; vim `f`"

  append-gitkeep = "!find . -type d -empty -not -path './.git*' -exec touch {}\\/.gitkeep \\;"
  append-gitignore = !"f() { local s=$1; shift; while [ $# -gt 0 ]; do s="$s,$1"; shift; done; curl "http://gitignore.io/api/$s"; }; f"
  branch-note = "!git config branch.$(git symbolic-ref HEAD|sed \"s/refs\\/heads\\///\").note $( if [ $# -gt 0 ]; then $1; fi)"

  remove-branch-all = "!git checkout master && git pull origin master && git fetch -p origin && git branch -d $(git branch --merged | grep -v master | grep -v '*') && git push origin $(git branch -r --merged | grep origin/ | grep -v master | sed s~origin/~:~)"
  remove-branch-local = "!git branch -d $(git branch --merged | grep -v master | grep -v '*')"
  remove-branch-remote = "!git push origin $(git branch -r --merged | grep origin/ | grep -v master | grep -v origin/pr/ | sed s~origin/~:~)"

  zip="!date=`date "+%y_%m_%d_%H%M%S"`; directory_name=`basename $(pwd)`; branch_name=`git symbolic-ref --short HEAD`; file_name="${directory_name}_${branch_name}_${date}.zip"; echo "creating... ${file_name}"; git archive HEAD --format=zip -o "${file_name}""
  zip-from="!f() { date=`date \"+%y_%m_%d_%H%M%S\"`; directory_name=`basename $(pwd)`; from_hash=`git log --format=\"%h\" -1 ${1}`; to_hash=`git log --format=\"%h\" -1 HEAD`; file_name=\"${directory_name}_diff_${to_hash}_from_${from_hash}_${date}.zip\"; echo \"creating... ${file_name}\"; git archive --format=zip HEAD $(git diff --name-only HEAD ${1}) -o \"${file_name}\"; }; f"
  submodule-init=submodule update --init --recursive

  resett = !git commit -a -m 'Temporary commit for cancel' && git reset --hard HEAD~
  ignore = !"f() { local s=$1; shift; while [ $# -gt 0 ]; do s="$s,$1"; shift; done; curl "http://gitignore.io/api/$s"; }; f"
  soft=reset --soft HEAD^

  shallow=clone --depth 1
  dm = !git branch --merged | grep -v '*' | xargs -I % git branch -d %
  rs = reset
  sn = shortlog -sn
  st = !sh -c 'git ls-remote . | grep `git log -1 --grep="git-svn-id"`
  tr = log --graph --pretty='format:%C(yellow)%h%Creset %C(magenta)%cd%Creset %s %Cgreen(%an)%Creset %Cred%d%Creset' --date=iso
  empty-tree-sha1 = hash-object -t tree /dev/null
  forkdiff = !bash -c 'git diff $(git merge-base "$1" "$2") "$2" "${@: 3}" ' -
  diffm = !"f() { git log HEAD...${1} --oneline | grep Merge; }; f"
  ff = !git clean -fd | git reset --hard

[push]
  default = current

[rerere]
  enabled = 1

[help]
  autocorrect = 1

[receive]
  denyDeleteCurrent = false

[difftool "sourcetree"]
  cmd = opendiff \"$LOCAL\" \"$REMOTE\"
  path =

[mergetool "sourcetree"]
  cmd = /Applications/SourceTree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
  trustExitCode = true

[issue]
  type = github

[merge]
  ff = false

[pull]
  rebase = true
; [branch]
;   autosetuprebase = always

[url "https://"]
  insteadOf = git://
[url "github:"]
  insteadOf = https://github.com/
[url "github:"]
  insteadOf = git://github.com/
[url "github:"]
  insteadOf = git@github.com:
[hub]
  protocol = https
[credential]
  helper = /opt/boxen/bin/boxen-git-credential
; [remote "origin"]
;   fetch = +refs/pull/*/head:refs/remotes/origin/pr/*
[filter "media"]
  clean = git-media-clean %f
  smudge = git-media-smudge %f
[remote "origin"]
  fetch = +refs/pull/*/head:refs/remotes/origin/pr/*
[filter "media"]
  clean = git-media-clean %f
  smudge = git-media-smudge %f
